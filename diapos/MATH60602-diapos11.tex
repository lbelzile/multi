% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
  ignorenonframetext,
]{beamer}
\usepackage{pgfpages}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\beamertemplatenavigationsymbolsempty
% Prevent slide breaks in the middle of a paragraph
\widowpenalties 1 10000
\raggedbottom
\setbeamertemplate{part page}{
  \centering
  \begin{beamercolorbox}[sep=16pt,center]{part title}
    \usebeamerfont{part title}\insertpart\par
  \end{beamercolorbox}
}
\setbeamertemplate{section page}{
  \centering
  \begin{beamercolorbox}[sep=12pt,center]{part title}
    \usebeamerfont{section title}\insertsection\par
  \end{beamercolorbox}
}
\setbeamertemplate{subsection page}{
  \centering
  \begin{beamercolorbox}[sep=8pt,center]{part title}
    \usebeamerfont{subsection title}\insertsubsection\par
  \end{beamercolorbox}
}
\AtBeginPart{
  \frame{\partpage}
}
\AtBeginSection{
  \ifbibliography
  \else
    \frame{\sectionpage}
  \fi
}
\AtBeginSubsection{
  \frame{\subsectionpage}
}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
  \setmainfont[]{D-DIN}
  \setsansfont[]{Latin Modern Sans}
  \setmathfont[]{Latin Modern Math}
\fi
\usecolortheme{Flip}
\usefonttheme{serif} % use mainfont rather than sansfont for slide text
\useinnertheme{Flip}
\useoutertheme{Flip}
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\newif\ifbibliography
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering


\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
\usepackage{caption}
% Make caption package work with longtable
\makeatletter
\def\fnum@table{\tablename~\thetable}
\makeatother
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{colortbl}
\usepackage{pdflscape}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{threeparttablex}
\usepackage[normalem]{ulem}
\usepackage{makecell}
\usepackage{xcolor}
\usepackage{tabu}
\usepackage{mathtools}
\usepackage{mathrsfs}
\makeatletter
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Analyse de regroupements},
  pdfauthor={Léo Belzile},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Analyse de regroupements}
\subtitle{Analyse multidimensionnelle appliquée}
\author{Léo Belzile}
\date{automne 2022}
\institute{HEC Montréal}

\begin{document}
\frame{\titlepage}
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[enhanced, borderline west={3pt}{0pt}{shadecolor}, interior hidden, frame hidden, boxrule=0pt, sharp corners, breakable]}{\end{tcolorbox}}\fi

\begin{frame}{Analyse de regroupements}
\protect\hypertarget{analyse-de-regroupements}{}
\textbf{Objectif}: regrouper des \textbf{observations} de telle sorte
que

\begin{itemize}
\tightlist
\item
  les observations d'un même groupe soient le plus semblables possible,
\item
  les groupes soient le plus différent possible les uns des autres.
\end{itemize}

Chaque observation se voit assigner une étiquette de groupe.

Analyse \textbf{descriptive} des segments.
\end{frame}

\begin{frame}{Illustration}
\protect\hypertarget{illustration}{}
\begin{figure}

{\centering \includegraphics[width=0.8\textwidth,height=\textheight]{MATH60602-diapos11_files/figure-beamer/fig-regroupements-bidons-1.pdf}

}

\caption{\label{fig-regroupements-bidons}Données simulées avec deux
regroupements hypothétiques.}

\end{figure}
\end{frame}

\begin{frame}{Analogie avec analyse factorielle}
\protect\hypertarget{analogie-avec-analyse-factorielle}{}
En analyse factorielle, on combine des variables similaires (colonnes).

Pour l'analyse de regroupements, on regroupe des observations (lignes).

\begin{figure}

{\centering \includegraphics[width=0.8\textwidth,height=\textheight]{figures/tidy-data.png}

}

\end{figure}

Ce sont des méthodes dites d'\textbf{apprentissage non-supervisé}:
l'objectif est de déduire la structure présente dans un ensemble de
points \(\mathbf{X}\) sans étiquette préalable (contrairement à la
classification).
\end{frame}

\begin{frame}{Exemples}
\protect\hypertarget{exemples}{}
\begin{itemize}
\tightlist
\item
  Programmes de fidélisation et résolution d'entités
\item
  Segmentation de la clientèle de transport en commun et élaboration de
  forfaits
\item
  Démarchage d'organismes de charité
\end{itemize}
\end{frame}

\begin{frame}{Structure de la base de données}
\protect\hypertarget{structure-de-la-base-de-donnuxe9es}{}
Quelles variables \(\mathrm{X}_1, \ldots, \mathrm{X}_p\) sont d'intérêt?

\begin{itemize}
\tightlist
\item
  Choisir des variables pertinentes pour faire ressortir les différences
\item
  Créer de nouvelles variables explicatives
\end{itemize}

Regrouper les bases de données marketing par identifiant client
(aggrégation).
\end{frame}

\begin{frame}{Exemple avec transport en commun}
\protect\hypertarget{exemple-avec-transport-en-commun}{}
La carte Opus enregistre

\begin{itemize}
\tightlist
\item
  les temps de passage
\item
  le type de déplacement (REM, métro, bus)
\item
  le nombre de passages
\item
  les abonnements
\item
  le profil client (études, rabais pour personnes âgées)
\end{itemize}
\end{frame}

\begin{frame}{Quelles variables créer ou conserver?}
\protect\hypertarget{quelles-variables-cruxe9er-ou-conserver}{}
\begin{itemize}
\tightlist
\item
  Nombre de passages mensuels
\item
  Abonnement mensuel ou annuel (oui/non)
\item
  Type de déplacement (soir, jour)
\item
  Nombre d'allers-retours hebdomadaires en heure de pointe
\item
  Variabilité de la fréquentation
\end{itemize}
\end{frame}

\begin{frame}{Diviser pour régner}
\protect\hypertarget{diviser-pour-ruxe9gner}{}
Souvent, il existe une division naturelle des données

Les jeunes avec des abonnements de transport publics l'utilisent
principalement pour aller à l'école

On peut faire la segmentation \textbf{séparément} pour ces sous-groupes.
\end{frame}

\begin{frame}{À votre tour}
\protect\hypertarget{uxe0-votre-tour}{}
Vous avez toutes les données transactionnelles associées à des comptes
d'épicerie avec un compte de fidélisation.

Quelles variables créez vous à partir des données aggrégées pour créer
des segments?
\end{frame}

\begin{frame}{Choix des variables}
\protect\hypertarget{choix-des-variables}{}
Recommandations: choisir les variables pertinentes qui font ressortir
les effets voulus.

\begin{itemize}
\tightlist
\item
  inclure de nombreuses variables similaires dilue les différences.
\item
  transformer les variables pour diminuer la corrélation
\end{itemize}

Typiquement, ne pas utiliser les variables sociodémographiques (âge,
revenu, sexe, etc.)

\begin{itemize}
\tightlist
\item
  on compare plutôt leur répartition au sein des regroupements.
\end{itemize}
\end{frame}

\begin{frame}{Exemple: typologie des votants en France}
\protect\hypertarget{exemple-typologie-des-votants-en-france}{}
\begin{figure}

{\centering \includegraphics[width=0.8\textwidth,height=\textheight]{figures/typologie-vote-france.jpg}

}

\end{figure}
\end{frame}

\begin{frame}[fragile]{Exemple - dons à un organisme de charité}
\protect\hypertarget{exemple---dons-uxe0-un-organisme-de-charituxe9}{}
La base de données \texttt{dons} contient 49730 observations pour 16
variables.

\begin{itemize}
\tightlist
\item
  Trois grandes catégories: personnes qui n'ont pas donné, dons uniques,
  dons multiples.
\item
  variables sociodémographiques, valeur des dons (min, max) et des
  promesses, nombre de dons, fréquence,
\end{itemize}

Une rapide exploration des données révèle que près de 61\% des
employé(e)s n'ont pas donné à l'organisme.

Une poignée de dons sont très élevés, mais la plupart des montants
tourne autour de 5\$, 10\$, 20\$, etc.
\end{frame}

\begin{frame}{Étapes d'une analyse de regroupements}
\protect\hypertarget{uxe9tapes-dune-analyse-de-regroupements}{}
\begin{enumerate}
\tightlist
\item
  Choisir les variables pertinentes à l'analyse. Cette étape peut
  nécessiter de créer, transformer de nouvelles variables ou d'aggréger
  les données.
\item
  Décider quel méthode et quelle mesure de dissemblance/similarité
  seront utilisées pour la segmentation.
\item
  Choisir les hyperparamètres de l'algorithme (nombre de regroupements,
  rayon, etc.)
\item
  Procéder à l'analyse de regroupements.
\item
  Calculer une mesure de qualité.
\item
  Assigner les étiquettes aux observations et calculer un prototype de
  groupe.
\item
  Interpréter les regroupements obtenus.
\end{enumerate}
\end{frame}



\end{document}
